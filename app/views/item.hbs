{{#contentFor "stylesheets"}}{{/contentFor}}

<section id="content">
    <form>
        <p><strong>Title</strong></p>
        <div class="form-group">
            <input class="form-control" type="text" placeholder="[title]">
        </div>
        <div class="form-group">
            <input class="form-control" type="text" placeholder="[subtitle]">
        </div>

        <hr />
        <p><strong>Timeline</strong></p>

        <div class="list-group">
            <div class="charCount list-group-item-text" style="position:relative">
                <textarea class="form-control" type="text" placeholder="Lorem ipsum dolor sit amet, consectetur adipisicing elit." maxlength="140" rows="2" style="resize: none;"></textarea>
                <span class="count" style="position:absolute;right:5px;bottom:0px;color:#ccc">140</span>
            </div>
        </div>
            </div>
        </div>

        <div class="form-group">
            {{!-- <input class="form-control" disabled="" type="text" placeholder="Wikipedia Link" alt="[citation needed]"> --}}
        </div>

        <hr/>

        <div class="form-group" style="text-align:right">
            <button class="btn btn-default" type="submit">Save</button>
            <button class="btn btn-default" type="submit">Publish</button>
        </div>
    </form>
</section>

{{#contentFor "scripts"}}
<script>
$("textarea[maxlength]").each(function() {
    var $this = $(this);
    var maxLength = parseInt($this.attr('maxlength'));
    $this.attr('maxlength', null);
    
    var el = $(".charCount>.count");
    
    $this.bind('keyup', function() {
        var cc = $this.val().length;
        
        el.text(maxLength - cc);
        
        if(maxLength < cc) {
            el.css('color', 'red');
        } else {
            el.css('color', '#ccc');
        }
    });
});
</script>
{{/contentFor}}